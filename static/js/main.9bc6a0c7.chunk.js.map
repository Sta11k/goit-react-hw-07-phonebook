{"version":3,"sources":["components/Forms/Form.module.css","components/Todolist/Todolist.module.css","components/Filter/Filter.module.css","redux/app/operation.js","components/Forms/Form.js","components/Todolist/Todolist.js","redux/app/app-phonebook-actions.js","redux/app/app-phonebook-selector.js","components/Filter/Filter.js","App.js","redux/app/app-phonebook-reducer.js","redux/store.js","index.js"],"names":["module","exports","contactsApi","createApi","reducerPath","tagTypes","baseQuery","fetchBaseQuery","baseUrl","endpoints","builder","fetchContact","query","providesTags","result","map","type","id","addContacts","mutation","newContact","url","method","body","invalidatesTags","deleteContacts","useFetchContactQuery","useAddContactsMutation","useDeleteContactsMutation","Form","contact","useState","name","setName","number","setNumber","association","setAssociation","onSubmit","e","preventDefault","phone","className","s","m","title","form__name","onChange","currentTarget","value","pattern","required","form__number","radio__btn","checked","Todolist","contacts__list","item","name__contact","btn","onClick","changeFilter","createAction","payload","shortid","generate","getFilter","state","contacts","filter","Filter","dispatch","useDispatch","useSelector","label","input","event","target","App","contactApi","data","contactList","createReducer","_","phonebookReducer","combineReducers","store","configureStore","reducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","concat","logger","devTools","process","setupListeners","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9bc6a0c7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"radio__btn\":\"Form_radio__btn__2kniY\",\"title\":\"Form_title__YRdrH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contacts__list\":\"Todolist_contacts__list__313fp\",\"item\":\"Todolist_item__1CEw3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"Filter_label__nhQP0\",\"input\":\"Filter_input__2NmL9\"};","// import axios from 'axios';\n// import { configureStore } from '@reduxjs/toolkit';\n// import { setupListeners } from '@reduxjs/toolkit/query';\n// import { phonebookReducer } from './app-phonebook-reducer';\n\nimport { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\n// import {\n//   getContactsRequest,\n//   getContactsSuccess,\n//   getContactsError,\n//   addContactsRequest,\n//   addContactsSuccess,\n//   addContactsError,\n//   deleteContactsRequest,\n//   deleteontactsSuccess,\n//   deleteContactsError,\n// } from './operatin';\n\n// axios.get('https://61935e66d3ae6d0017da850e.mockapi.io/contacts');\n\n//youtu.be/xJ2cgRkR8D0?t=4941\n//redux-toolkit.js.org/rtk-query/api/createApi\n\nexport const contactsApi = createApi({\n  reducerPath: 'contactsApi',\n  tagTypes: ['Contacts'],\n  baseQuery: fetchBaseQuery({\n    baseUrl: 'https://61935e66d3ae6d0017da850e.mockapi.io/',\n  }),\n  endpoints: builder => ({\n    fetchContact: builder.query({\n      query: () => `/contacts`,\n      providesTags: result =>\n        result\n          ? [\n              ...result.map(({ id }) => ({ type: 'Contacts', id })),\n              { type: 'Contacts', id: 'LIST' },\n            ]\n          : [{ type: 'Contacts', id: 'LIST' }],\n    }),\n    addContacts: builder.mutation({\n      query: newContact => ({\n        url: `/contacts`,\n        method: 'POST',\n        body: { ...newContact },\n      }),\n      invalidatesTags: [{ type: 'Contacts', id: 'LIST' }],\n    }),\n    deleteContacts: builder.mutation({\n      query: id => ({\n        url: `contacts/${id}`,\n        method: 'DELETE',\n      }),\n      invalidatesTags: [{ type: 'Contacts', id: 'LIST' }],\n    }),\n  }),\n});\n\nexport const {\n  useFetchContactQuery,\n  useAddContactsMutation,\n  useDeleteContactsMutation,\n} = contactsApi;\n\n// console.log(contactsApi);\n// const fetchContacts = () => async dispatch => {\n//   dispatch(fetchContactsRequest());\n//   try {\n//     const { data } = await axios.get('http://localhost:4040/contacts');\n//     dispatch(fetchContactsSuccess(data));\n//   } catch (error) {\n//     dispatch(fetchContactsError(error));\n//   }\n// };\n\n// const addContact = (name, number) => async dispatch => {\n//   const contact = {\n//     name,\n//     number,\n//   };\n\n//   dispatch(addContactRequest());\n\n//   try {\n//     const { data } = await axios.post(\n//       'http://localhost:4040/contacts',\n//       contact,\n//     );\n//     dispatch(addContactSuccess(data));\n//   } catch (error) {\n//     dispatch(addContactError(error));\n//   }\n// };\n\n// const deleteContact = id => async dispatch => {\n//   dispatch(deleteContactRequest());\n//   try {\n//     await axios.delete(`http://localhost:4040/contacts/${id}`);\n//     dispatch(deleteContactSuccess(id));\n//   } catch (error) {\n//     dispatch(deleteContactError(error));\n//   }\n// };\n\n// const contactsOperations = {\n//   fetchContacts,\n//   addContact,\n//   deleteContact,\n// };\n// export default contactsOperations;\n","// import { Component } from 'react';\r\n// import { connect } from 'react-redux';\r\nimport { useState } from 'react';\r\nimport s from './Form.module.css';\r\nimport { useAddContactsMutation } from '../../redux/app/operation';\r\n// import { useSelector, useDispatch } from 'react-redux';\r\n// import { getContacts } from '../../redux/app/app-phonebook-selector';\r\n\r\nfunction Form({ contact }) {\r\n  const [addContacts] = useAddContactsMutation();\r\n  // const contacts = useSelector(getContacts);\r\n  // const dispatch = useDispatch();\r\n  // console.log(addContacts);\r\n  // const onSubmit = (name, number, association) =>\r\n  //   dispatch(addContacts(name, number, association));\r\n\r\n  const [name, setName] = useState('');\r\n  const [number, setNumber] = useState('');\r\n  const [association, setAssociation] = useState('Other');\r\n\r\n  const handleSabmit = e => {\r\n    e.preventDefault();\r\n    // const repeatName = contacts.reduce(\r\n    //   (acc, contact) => [...acc, contact.name],\r\n    //   [],\r\n    // );\r\n    // const repeatNumber = contacts.reduce(\r\n    //   (acc, contact) => [...acc, contact.number],\r\n    //   [],\r\n    // );\r\n\r\n    // if (repeatName.includes(name) || repeatNumber.includes(number)) {\r\n    //   alert(`${name} ${number} is already `);\r\n    //   return;\r\n    // }\r\n\r\n    // if (name === '' || number === '') {\r\n    //   alert(`Enter data`);\r\n    //   return;\r\n    // }\r\n    let phone = number;\r\n    const newContact = { name, phone, association };\r\n    addContacts(newContact);\r\n    // onSubmit(name, number, association);\r\n    setName('');\r\n    setNumber('');\r\n    setAssociation('Other');\r\n    //Дизпачим продукет в редакс\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSabmit} className={s.m}>\r\n      <h2 className={s.title}>Phonebook</h2>\r\n      <label className={s.form__name}>\r\n        Name\r\n        <input\r\n          // id={this.contactIdName}\r\n          onChange={e => setName(e.currentTarget.value)}\r\n          type=\"text\"\r\n          value={name}\r\n          name=\"name\"\r\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n          title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\r\n          required\r\n        />\r\n      </label>\r\n      <label className={s.form__number}>\r\n        Number\r\n        <input\r\n          // id={this.contactIdNumber}\r\n          onChange={e => setNumber(e.currentTarget.value)}\r\n          type=\"tel\"\r\n          value={number}\r\n          name=\"number\"\r\n          pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\r\n          title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\r\n          required\r\n        />\r\n      </label>\r\n\r\n      <div className={s.radio__btn}>\r\n        <label>\r\n          <input\r\n            type=\"radio\"\r\n            name=\"association\"\r\n            value=\"Work\"\r\n            onChange={e => setAssociation(e.currentTarget.value)}\r\n            checked={association === 'Work'}\r\n          />\r\n          Work\r\n        </label>\r\n        <label>\r\n          <input\r\n            type=\"radio\"\r\n            name=\"association\"\r\n            value=\"Family\"\r\n            onChange={e => setAssociation(e.currentTarget.value)}\r\n            checked={association === 'Family'}\r\n          />\r\n          Family\r\n        </label>\r\n        <label>\r\n          <input\r\n            type=\"radio\"\r\n            name=\"association\"\r\n            value=\"Friends\"\r\n            onChange={e => setAssociation(e.currentTarget.value)}\r\n            checked={association === 'Friends'}\r\n          />\r\n          Friends\r\n        </label>\r\n        <label>\r\n          <input\r\n            type=\"radio\"\r\n            name=\"association\"\r\n            value=\"Other\"\r\n            onChange={e => setAssociation(e.currentTarget.value)}\r\n            checked={association === 'Other'}\r\n          />\r\n          Other\r\n        </label>\r\n      </div>\r\n      <button type=\"submit\">Add contacts</button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default Form;\r\n\r\n// class Form extends Component {\r\n//   state = {\r\n//     // contacts: [],\r\n//     id: '',\r\n//     name: '',\r\n//     number: '',\r\n//     association: 'Other',\r\n//   };\r\n\r\n//   contactIdName = uuid();\r\n//   contactIdNumber = uuid();\r\n\r\n//   handleChange = e => {\r\n//     console.log(e.currentTarget.value);\r\n//     // const contactId = uuid();\r\n//     const { name, value } = e.currentTarget;\r\n//     this.setState({ [name]: value });\r\n//     // this.setState({ id: contactId });\r\n//   };\r\n\r\n//   handleSabmit = e => {\r\n//     e.preventDefault();\r\n//     const contactId = uuid();\r\n//     const { name, number, association } = this.state;\r\n//     const contactItem = {\r\n//       id: contactId,\r\n//       name,\r\n//       number,\r\n//       association,\r\n//     };\r\n//     this.setState({ contactItem }); //для себя пишем новий обект продукта\r\n\r\n//     this.props.onAdd(contactItem); //Дизпачим продукет в редакс\r\n//     this.resetForm();\r\n//   };\r\n\r\n//   resetForm = () => {\r\n//     this.setState({ id: '', name: '', number: '', association: 'Other' });\r\n//   };\r\n\r\n//   render() {\r\n//     return (\r\n//       <form onSubmit={this.handleSabmit} className={s.m}>\r\n//         <h2 className={s.title}>Phonebook</h2>\r\n//         <label htmlFor={this.contactIdName} className={s.form__name}>\r\n//           Name\r\n//           <input\r\n//             id={this.contactIdName}\r\n//             onChange={this.handleChange}\r\n//             type=\"text\"\r\n//             value={this.state.name}\r\n//             name=\"name\"\r\n//             pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n//             title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\r\n//             required\r\n//           />\r\n//         </label>\r\n//         <label htmlFor={this.contactIdNumber} className={s.form__number}>\r\n//           Number\r\n//           <input\r\n//             id={this.contactIdNumber}\r\n//             onChange={this.handleChange}\r\n//             type=\"tel\"\r\n//             value={this.state.number}\r\n//             name=\"number\"\r\n//             pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\r\n//             title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\r\n//             required\r\n//           />\r\n//         </label>\r\n\r\n//         <div className={s.radio__btn}>\r\n//           <label>\r\n//             <input\r\n//               type=\"radio\"\r\n//               name=\"association\"\r\n//               value=\"Work\"\r\n//               onChange={this.handleChange}\r\n//               checked={this.state.association === 'Work'}\r\n//             />\r\n//             Work\r\n//           </label>\r\n//           <label>\r\n//             <input\r\n//               type=\"radio\"\r\n//               name=\"association\"\r\n//               value=\"Family\"\r\n//               onChange={this.handleChange}\r\n//               checked={this.state.association === 'Family'}\r\n//             />\r\n//             Family\r\n//           </label>\r\n//           <label>\r\n//             <input\r\n//               type=\"radio\"\r\n//               name=\"association\"\r\n//               value=\"Friends\"\r\n//               onChange={this.handleChange}\r\n//               checked={this.state.association === 'Friends'}\r\n//             />\r\n//             Friends\r\n//           </label>\r\n//           <label>\r\n//             <input\r\n//               type=\"radio\"\r\n//               name=\"association\"\r\n//               value=\"Other\"\r\n//               onChange={this.handleChange}\r\n//               checked={this.state.association === 'Other'}\r\n//             />\r\n//             Other\r\n//           </label>\r\n//         </div>\r\n//         <button type=\"submit\">Add contacts</button>\r\n//       </form>\r\n//     );\r\n//   }\r\n// }\r\n\r\n// const mapDispatchToProps = dispatch => {\r\n//   // console.log(\"dispatch\", dispatch);\r\n//   return {\r\n//     onAdd: contactR => dispatch(addContacts(contactR)),\r\n//   };\r\n// };\r\n// export default connect(null, mapDispatchToProps)(Form);\r\n","// import PropTypes from 'prop-types';\r\n// import { connect } from 'react-redux';\r\nimport s from './Todolist.module.css';\r\n// import { deleteContacts } from '../../redux/app/app-phonebook-actions';\r\n// import { useSelector, useDispatch } from 'react-redux';\r\n// import { getVisibleContacts } from '../../redux/app/app-phonebook-selector';\r\nimport {\r\n  // useFetchContactQuery,\r\n  // useAddContactsMutation,\r\n  useDeleteContactsMutation,\r\n} from '../../redux/app/operation';\r\n\r\nfunction Todolist({ contact }) {\r\n\r\n  const [deleteContacts] =\r\n    useDeleteContactsMutation();\r\n\r\n  // const contactsOll = useSelector(getVisibleContacts);\r\n  // const dispatch = useDispatch();\r\n  // const onDeleteContact = id => dispatch(deleteContacts(id));\r\n\r\n  return (\r\n    <ul className={s.contacts__list}>\r\n      {contact.map(({ id, name, phone, association }) => {\r\n        return (\r\n          <li key={id} className={s.item}>\r\n            {' '}\r\n            <p className={s.name__contact}>\r\n              Association: {association} | <span> name: {name} | </span>\r\n              <span>number: {phone} |</span>\r\n            </p>\r\n            <button\r\n              className={s.btn}\r\n              type=\"button\"\r\n              onClick={() => deleteContacts(id)}\r\n            >\r\n              {' '}\r\n              DELETE contact\r\n            </button>\r\n          </li>\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n}\r\nexport default Todolist;\r\n\r\n// Todolist.propTypes = {\r\n//   contacts: PropTypes.arrayOf(\r\n//     PropTypes.shape({\r\n//       id: PropTypes.string.isRequired,\r\n//       name: PropTypes.string.isRequired,\r\n//       number: PropTypes.string.isRequired,\r\n//     }),\r\n//   ),\r\n//   onDeleteContact: PropTypes.func.isRequired,\r\n// };\r\n\r\n// const mapStateToProps = state => {\r\n//   const { filter } = state;\r\n//   const optimizedFilter = filter.toLowerCase();\r\n//   const vizibleCOntacts = state.contact.filter(contact =>\r\n//     contact.name.toLowerCase().includes(optimizedFilter),\r\n//   );\r\n\r\n//   return { contactsOll: vizibleCOntacts };\r\n// };\r\n\r\n// const mapDispatchToProps = dispatch => {\r\n//   return {\r\n//     onDeleteContact: id => dispatch(deleteContacts(id)),\r\n//   };\r\n// };\r\n// export default connect(mapStateToProps, mapDispatchToProps)(Todolist);\r\n","import { createAction } from '@reduxjs/toolkit';\r\n// import { defaults } from 'gh-pages';\r\n\r\n// import { useState } from 'react';\r\n// import { v4 as uuid } from 'uuid';\r\n// const contactId = uuid();\r\nimport shortid from 'shortid';\r\n// import {\r\n//   useFetchContactQuery,\r\n//   useAddContactsMutation,\r\n//   useDeleteContactsMutation,\r\n// } from '../../redux/app/operation';\r\n\r\nexport const addContacts = createAction(\r\n  'contacts/add',\r\n  (name, number, association) => ({\r\n    payload: {\r\n      id: shortid.generate(),\r\n      name,\r\n      number,\r\n      association,\r\n    },\r\n  }),\r\n);\r\n\r\nexport const deleteContacts = createAction('contacts/delete');\r\nexport const changeFilter = createAction('filter/value');\r\n","export const getContacts = state => state.contacts.contact;\r\nexport const getFilter = state => state.contacts.filter;\r\n\r\nexport const getVisibleContacts = state => {\r\n  const contacts = getContacts(state);\r\n  const filter = getFilter(state);\r\n  const optimizedFilter = filter.toLowerCase();\r\n  return contacts.filter(({ name }) =>\r\n    name.toLowerCase().includes(optimizedFilter),\r\n  );\r\n};\r\n","// import { connect } from 'react-redux';\r\nimport s from './Filter.module.css';\r\n// import PropTypes from 'prop-types';\r\nimport { changeFilter } from '../../redux/app/app-phonebook-actions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getFilter } from '../../redux/app/app-phonebook-selector';\r\nfunction Filter() {\r\n  const dispatch = useDispatch();\r\n  const value = useSelector(getFilter);\r\n  const onChange = event => dispatch(changeFilter(event.target.value));\r\n  return (\r\n    <label className={s.label}>\r\n      Find contacts by name\r\n      <input\r\n        className={s.input}\r\n        type=\"text\"\r\n        value={value}\r\n        onChange={onChange}\r\n      />\r\n    </label>\r\n  );\r\n}\r\n\r\nexport default Filter;\r\n\r\n// Filter.propTypes = {\r\n//   value: PropTypes.string,\r\n//   onChange: PropTypes.func.isRequired,\r\n// };\r\n// const mapStateToProps = state => ({\r\n//   value: state.filter,\r\n// });\r\n\r\n// const mapDispatchToProps = dispatch => ({\r\n//   onChange: event => dispatch(changeFilter(event.currentTarget.value)),\r\n// });\r\n// export default connect(mapStateToProps, mapDispatchToProps)(Filter);\r\n","import './App.css';\r\nimport Form from './components/Forms/Form';\r\nimport TodoList from './components/Todolist/Todolist';\r\nimport Filter from './components/Filter/Filter';\r\nimport {\r\n  useFetchContactQuery,\r\n  // useAddContactsMutation,\r\n  // useDeleteContactsMutation,\r\n} from '../src/redux/app/operation';\r\n// import { Component } from 'react';\r\n// import { useSelector } from 'react-redux';\r\n// import { getVisibleContacts } from './redux/app/app-phonebook-selector';\r\n// import { connect } from 'react-redux';\r\n// import TestList from './components/Todolist/TestList';\r\n// import Timer from './components/Timer/Timer';\r\n// import { Observable } from 'rxjs';\r\nexport default function App() {\r\n  // const observable = new Observable(subscriber => {\r\n  //   let count = 0;\r\n  //   subscriber.next(1);\r\n  //   subscriber.next(2);\r\n  //   subscriber.next(3);\r\n  //   setTimeout(() => {\r\n  //     subscriber.next(4);\r\n  //     subscriber.complete();\r\n  //   }, 1000);\r\n  // });\r\n\r\n  // console.log('just before subscribe');\r\n  // observable.subscribe({\r\n  //   next(x) {\r\n  //     console.log('got value ' + x);\r\n  //   },\r\n  //   error(err) {\r\n  //     console.error('something wrong occurred: ' + err);\r\n  //   },\r\n  //   complete() {\r\n  //     console.log('done');\r\n  //   },\r\n  // });\r\n  // console.log('just after subscribe');\r\n\r\n  const { data: contactApi } = useFetchContactQuery();\r\n  return (\r\n    <div className=\"App\">\r\n      <Form />\r\n      <Filter contact={contactApi} />\r\n      {/* {isFetching} */}\r\n      {contactApi && <TodoList contact={contactApi} />}\r\n      {/* <TestList /> */}\r\n      {/* <Timer /> */}\r\n    </div>\r\n  );\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\n\r\n// import { addContacts, deleteContacts } from './app-phonebook-actions';\r\n\r\nconst initState = [\r\n  \r\n  // {\r\n  //   id: 'id-1',\r\n  //   name: 'Rosie Simpson',\r\n  //   number: '459-12-56',\r\n  //   association: 'Other',\r\n  // },\r\n  // {\r\n  //   id: 'id-2',\r\n  //   name: 'Hermione Kline',\r\n  //   number: '443-89-12',\r\n  //   association: 'Other',\r\n  // },\r\n  // {\r\n  //   id: 'id-3',\r\n  //   name: 'Eden Clements',\r\n  //   number: '645-17-79',\r\n  //   association: 'Other',\r\n  // },\r\n  // {\r\n  //   id: 'id-4',\r\n  //   name: 'Annie Copeland',\r\n  //   number: '227-91-26',\r\n  //   association: 'Other',\r\n  // },\r\n];\r\n\r\nconst contactList = createReducer(initState, {\r\n  'contacts/add': (state, { payload }) => [...state, payload],\r\n  'contacts/delete': (state, { payload }) =>\r\n    state.filter(({ id }) => id !== payload),\r\n});\r\n\r\nconst filter = createReducer('', {\r\n  'filter/value': (_, { payload }) => payload,\r\n});\r\n\r\nexport const phonebookReducer = combineReducers({\r\n  contact: contactList,\r\n  filter,\r\n});\r\n\r\n// const contactList = (state = initState, { type, payload }) => {\r\n//   // console.log('action.payload', action.payload);\r\n//   // console.log('state', state);\r\n//   switch (type) {\r\n//     case 'contacts/add':\r\n//       return [...state, payload];\r\n//     case 'contacts/delete':\r\n//       return state.filter(contact => contact.id !== payload.id);\r\n\r\n//     default:\r\n//       return state;\r\n//   }\r\n// };\r\n\r\n// const filter = (state = '', { type, payload }) => {\r\n//   switch (type) {\r\n//     case 'filter/value':\r\n//       return payload;\r\n//     default:\r\n//       return state;\r\n//   }\r\n// };\r\n","// import { createStore, applyMiddleware } from 'redux';\r\n// import { composeWithDevTools } from 'redux-devtools-extension';\r\n// export const store = createStore(\r\n//   phonebookReducer,\r\n//   composeWithDevTools(applyMiddleware()),\r\n// );\r\nimport { setupListeners } from '@reduxjs/toolkit/dist/query';\r\nimport { configureStore } from '@reduxjs/toolkit';\r\nimport logger from 'redux-logger';\r\nimport {\r\n  // persistStore,\r\n  // persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\n// import storage from 'redux-persist/lib/storage';\r\nimport { phonebookReducer } from './app/app-phonebook-reducer';\r\nimport { contactsApi } from './app/operation';\r\n// const phonebookPersistConfig = {\r\n//   key: 'contact',\r\n//   storage,\r\n//   blacklist: ['filter'],\r\n// };\r\n// const persisteReducer = persistReducer(\r\n//   phonebookPersistConfig,\r\n//   phonebookReducer,\r\n// );\r\nexport const store = configureStore({\r\n  reducer: {\r\n    contacts: phonebookReducer,\r\n    [contactsApi.reducerPath]: contactsApi.reducer,\r\n  },\r\n  middleware: getDefaultMiddleware =>\r\n    getDefaultMiddleware(\r\n      {\r\n        serializableCheck: {\r\n          ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n        },\r\n      },\r\n      //   ПЕРЕВІРИТИ ЧИ ВПЛИВАЄ НА ПЕРВІРКУ\r\n    )\r\n      .concat(logger)\r\n      .concat(contactsApi.middleware),\r\n  devTools: process.env.NODE_ENV !== 'production',\r\n});\r\n\r\nsetupListeners(store.dispatch);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'modern-normalize/modern-normalize.css';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { Provider } from 'react-redux';\r\n// import { PersistGate } from 'redux-persist/integration/react';\r\n// import { store, persistor } from './redux/store';\r\nimport { store} from './redux/store';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    {/* <PersistGate loading={null} persistor={persistor}> */}\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n    {/* </PersistGate> */}\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n// ReactDOM.render(\r\n//   <React.StrictMode>\r\n//     <Provider store={store}>\r\n//       <App />\r\n//     </Provider>\r\n//   </React.StrictMode>,\r\n//   document.getElementById('root'),\r\n// );\r\n"],"sourceRoot":""}